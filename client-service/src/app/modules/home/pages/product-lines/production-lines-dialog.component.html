<div>
    <mat-toolbar color="accent">
      <h2 translate>{{data.type == "add" ? "Add production line": data.element.element.name}}</h2>
      <span fxFlex></span>
      <button mat-icon-button
                (click)="cancel()"
                  type="button">
        <mat-icon class="material-icons">close</mat-icon>
      </button>
    </mat-toolbar>
    <!-- <mat-progress-bar color="warn" mode="indeterminate">
    </mat-progress-bar> -->
    <!-- <div style="height: 4px;"></div> -->
    <div mat-dialog-content>
      <form class="example-form" [formGroup]="productionLineForm">
        <mat-form-field class="example-full-width">
          <input matInput placeholder="Tên dây chuyền" formControlName="nameProductionLine">
        </mat-form-field>
      
        <mat-form-field class="example-full-width">
          <input matInput placeholder="Mã PO" formControlName="codePo">
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <input matInput placeholder="Đơn vị sản xuất" formControlName="branch">
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <input matInput placeholder="Dây chuyền máy" formControlName="productionLineMachine">
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <input matInput placeholder="Mã hàng hóa" formControlName="codeProduct">
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <input matInput placeholder="Tên hàng hóa" formControlName="nameProduct">
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <input matInput placeholder="Mã WO" formControlName="codeWo">
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <mat-chip-list #chipList aria-label="Devices selection" formControlName="deviceList">
            <mat-chip *ngFor="let device of devices" [selectable]="selectable"
                     [removable]="removable" (removed)="remove(device)">
              {{device.name}}
              <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
            </mat-chip>
            <input placeholder="Danh sách thiết bị"
                    #deviceInput
                    [matAutocomplete]="auto"
                    matAutocompleteOrigin
                    #origin="matAutocompleteOrigin"
                    [matAutocompleteConnectedTo]="origin"
                   [matChipInputFor]="chipList" >
          </mat-chip-list>
          <mat-autocomplete class="tb-autocomplete"
          #auto="matAutocomplete" (optionSelected)="selected($event)">
            <mat-option *ngFor="let device of allDevices" [value]="device">
              {{device.name}}
            </mat-option>
          </mat-autocomplete>
          <!-- <input matInput placeholder="Danh sách thiết bị" formControlName="deviceList"> -->
        </mat-form-field>
      </form>
    </div>
  
    <div mat-dialog-actions fxLayout="row" fxLayoutGap="8px" fxLayoutAlign="end">
      <button mat-button
              (click)="cancel()">{{ 'action.cancel' | translate }}</button>
              <button mat-raised-button *ngIf="data.type=='add'" color="accent" (click)="add()">{{ 'action.add' | translate }}</button>
              <button mat-raised-button *ngIf="data.type=='edit'" color="accent" (click)="update()">{{ 'action.update' | translate }}</button>
    </div>
  </div>
  